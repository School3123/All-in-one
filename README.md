================================================================
          All-in-One File Manager & Downloader (v3.0)
             ~ Split Architecture Edition ~
================================================================

このツールは、重いダウンロード処理とファイル管理を分離することで
安定性と操作性を両立させたファイル管理システムです。

【構成】
1. ダウンローダー (downloader.py)
   - ターミナルで実行
   - HTTP/HTTPS, Magnet Link, Torrentファイルに対応
   - libtorrentを使用し、進捗バーをCLIで表示

2. Webファイルマネージャー (app.py)
   - ブラウザで操作
   - ファイルの閲覧、ダウンロード、アップロード
   - 圧縮ファイルの解凍 (Zip, Rar, 7z...)
   - フォルダのZIP圧縮ダウンロード機能

================================================================
  1. インストール / セットアップ (初回のみ)
================================================================
GitHub Codespaces (Linux/Ubuntu) のターミナルで
以下のコマンドを順に実行してください。

----------------------------------------------------------------
手順①: システムパッケージのインストール
(Torrentエンジン、7zip、unrar解凍ツール)
----------------------------------------------------------------
sudo apt-get update && sudo apt-get install -y python3-libtorrent p7zip-full unrar

----------------------------------------------------------------
手順②: Pythonライブラリのインストール
(Webサーバー、解凍ライブラリ、HTTP通信用)
----------------------------------------------------------------
pip install flask patool requests


================================================================
  2. ダウンロード機能の使い方 (downloader.py)
================================================================
ダウンロードは「ターミナル」で行います。
コマンドを実行するとダウンロードが開始され、進捗が表示されます。

【基本コマンド】
  python downloader.py "ここにリンク"

【例: Magnetリンク / Web URL】
  python downloader.py "magnet:?xt=urn:btih:..."
  python downloader.py "https://example.com/file.zip"

【例: Torrentファイル】
  ※ PCにある .torrent ファイルを使いたい場合、先にWeb画面(後述)から
     アップロードしておくと、以下のように指定できます。
  python downloader.py "downloads/sample.torrent"

【停止方法】
  ダウンロードを中断したい場合は、キーボードの [Ctrl] + [C] を押します。


================================================================
  3. ファイル管理・解凍機能の使い方 (app.py)
================================================================
ファイルの確認、解凍、PCへの保存は「Webブラウザ」で行います。

【起動コマンド】
  python app.py

【ブラウザでのアクセス】
  起動後、右下に表示されるポップアップ「Open in Browser」をクリックするか、
  「PORTS」タブから ポート 5000 の地球儀アイコンをクリックしてください。

【Web画面の機能】
  [Tabs]
   - Downloads : ダウンロードしたファイル一覧 (保存先: ./downloads)
   - Extracted : 解凍したファイル一覧 (保存先: ./extracted)

  [Actions]
   - Upload    : PCからファイルをサーバーへ送信 (サブフォルダへのアップロードも可)
   - 📦 解凍   : 圧縮ファイル(.zip, .rar等)を「extracted」フォルダに展開
   - 🤐 ZIP    : フォルダの中身を丸ごとZIP圧縮してダウンロード
   - ⬇ DL      : 単一ファイルをPCへダウンロード
   - 🗑 削除   : ファイルまたはフォルダを削除

  [Navigation]
   - フォルダ名をクリックすると中に入れます。
   - 「.. (Go Up)」または上部のパンくずリストで上の階層に戻れます。


================================================================
  4. ファイル構成とディレクトリ
================================================================
/workspaces/All-in-one/
  ├── app.py            # Web管理画面のプログラム
  ├── downloader.py     # ダウンロード用プログラム
  ├── README.txt        # この説明書
  ├── downloads/        # ダウンロードされたファイルはここに入ります
  └── extracted/        # 解凍されたファイルはここに入ります

================================================================
